# Тестирование формы создания проекта

## Проблема
При отправке формы возникала ошибка "Введите корректный секретный ключ"

## Решение
Исправлено использование поля секретного ключа:
- Было: `authState.user?.secret_key`
- Стало: `authState.user?.key`

## Как протестировать

### 1. Проверка загрузки секретного ключа
1. Войдите в личный кабинет
2. Откройте страницу Dashboard
3. Нажмите кнопку "Создать проект"
4. Проверьте, что:
   - Поле "Ключ агента" заполнено автоматически
   - Под полем отображается зеленая галочка: "✓ Ваш секретный ключ подставлен автоматически"
   - Если ключ не загружен, отображается желтое предупреждение

### 2. Проверка отправки формы
1. Заполните обязательные поля:
   - Имя клиента
   - Телефон клиента (формат: +7 или 8, 10-11 цифр)
2. Опционально заполните:
   - Адрес объекта
   - Комментарий
3. Нажмите "Отправить"
4. Проверьте:
   - Форма отправляется без ошибок
   - Появляется сообщение об успехе
   - Модальное окно автоматически закрывается через 2 секунды
   - Проект создан в базе данных

### 3. Отладка (если проблемы)
Откройте консоль браузера (F12) и проверьте логи:
- `Secret key value:` - значение секретного ключа
- `Secret key length:` - длина ключа (должна быть 26)
- `User data:` - данные пользователя из authState

### 4. Проверка профиля
Если секретный ключ не загружается:
1. Перейдите на страницу "Профиль"
2. Проверьте, что поле "Секретный ключ" заполнено
3. Если ключ отсутствует, обратитесь к администратору

## Структура данных пользователя
```javascript
authState.user = {
  id: number,
  name: string,
  email: string,
  phone: string,
  region: string,
  key: string,  // <- Секретный ключ (26 символов ULID)
  email_verified_at: string | null
}
```

## Формат секретного ключа
- Длина: 26 символов
- Формат: ULID (Universally Unique Lexicographically Sortable Identifier)
- Допустимые символы: 0-9, A-H, J-K, M-N, P-T, V-Z (без I, L, O, U)
- Пример: `01HZY8Y9G5F8M9B6W7K3NQ4Z8X`
